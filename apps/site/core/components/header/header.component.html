<div class="header">
	<div class="flexible-container">
		<div class="row">

				<div class="logo">
					it's Deprecated!
				</div>

				<div class="menu" *appDevice="'desktop'">

				@for (item of headerService.navigation(); track $index) {
					<app-header-item [dropdownItem]="item"></app-header-item>
				}

					<div class="counter">refactoring stage: {{ counter() | plural: 'days': 'day' }}</div>
					<app-theme-changer></app-theme-changer>
				</div>
			<div class="mobile-buttons" *appDevice="['tablet', 'mobile']">
				<app-drawer-menu
					*appDevice="['mobile', 'tablet']"
					[content]="drawer"
					menuTitle="Reactive Deprecated"
				></app-drawer-menu>

				<app-install-button *appDevice="['mobile', 'tablet']"></app-install-button>

				<app-theme-changer class="theme-changer"></app-theme-changer>
			</div>
		</div>
	</div>
</div>

<ng-template #drawer>
	<div class="drawer-content">
		<div class="links">
			@for (item of headerService.navigation(); track $index) {
				<a
					class="drawer-link"
					tuiLink
					(click)="item.children ? openExpand() : 0"
				>
					<span class="link-text">
						{{ item.title }}
					</span>
				</a>
				@if(item.children) {
					<tui-expand
						class="expanded-content"
						[expanded]="expanded()"
					>
						<ul>
							@for (subItem of item.children; track $index) {
								<li>
									<a
										class="sub-link"
										tuiLink
										[routerLink]="subItem.routerLink"
									>
								<span class="sublink-text">

									{{ subItem.title }}
								</span>
									</a>
								</li>
							}
						</ul>
					</tui-expand>
				}

			}
		</div>

		<div class="counter">refactoring stage: {{ counter() | plural: 'days': 'day' }}</div>

	</div>
</ng-template>
